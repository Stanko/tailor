"use strict";(()=>{function h(n={},l=[]){let t=document.createElement("div");Array.isArray(l)||(l=[l]),l.forEach(e=>{typeof e=="string"?t.append(e):t.appendChild(e)});for(let e in n)t.setAttribute(e,n[e]);return t}function f(n,l,t,e,i){n.style.left=`${l}px`,n.style.top=`${t}px`,n.style.width=`${e}px`,n.style.height=`${i}px`}function $(n,l,t,e,i=0,d=!1){if(l>e){let o=e;e=l,l=o}let a=e-l;d&&a>0&&(n.innerHTML=`<div>${a}</div>`),f(n,l,t-i,a,0)}function v(n,l,t,e,i=0,d=!1){if(t>e){let o=e;e=t,t=o}let a=e-t;d&&a>0&&(n.innerHTML=`<div>${a}</div>`),f(n,l-i,t,0,a)}var b=class{constructor(){this.$highlighted=null;this.$to=null;this.selected=!1;this.handleMouseMove=l=>{if(!l.metaKey){this.disable();return}this.$tailor.style.display="block";let t=l.target;this.selected?this.$to!==t&&this.$highlighted&&this.$highlighted!==t&&this.measureDistance(this.$highlighted,t):this.$highlighted!==l.target&&(this.$highlighted=t,this.highlightElement(this.$highlighted))};this.handleClick=l=>{this.$highlighted&&(l.preventDefault(),this.selected=!0,this.$tailor.classList.add("__tailor--measuring"),this.$highlighted=l.target,this.highlightElement(this.$highlighted))};this.handleScrollAndResize=()=>{this.$highlighted&&this.highlightElement(this.$highlighted)};if(this.$margin=h({class:"__tailor-margin"}),this.$padding=h({class:"__tailor-padding"}),this.$xRuler=h({class:"__tailor-ruler __tailor-ruler--x"}),this.$xRuler2=h({class:"__tailor-ruler __tailor-ruler--x"}),this.$yRuler=h({class:"__tailor-ruler __tailor-ruler--y"}),this.$yRuler2=h({class:"__tailor-ruler __tailor-ruler--y"}),this.$xRulerHelper=h({class:"__tailor-ruler-helper __tailor-ruler-helper--x"}),this.$xRulerHelper2=h({class:"__tailor-ruler-helper __tailor-ruler-helper--x"}),this.$yRulerHelper=h({class:"__tailor-ruler-helper __tailor-ruler-helper--y"}),this.$yRulerHelper2=h({class:"__tailor-ruler-helper __tailor-ruler-helper--y"}),this.$tailor=h({class:"__tailor"}),this.$tailor.append(this.$padding,this.$margin,this.$xRuler,this.$xRuler2,this.$yRuler,this.$yRuler2,this.$xRulerHelper,this.$xRulerHelper2,this.$yRulerHelper,this.$yRulerHelper2),window.__tailor_instance)return window.__tailor_instance;document.body.append(this.$tailor),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("click",this.handleClick),window.addEventListener("scroll",this.handleScrollAndResize),window.addEventListener("resize",this.handleScrollAndResize),window.__tailor_instance=this,console.log("Tailor initiated.")}destroy(){this.$tailor.remove(),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("click",this.handleClick),window.removeEventListener("scroll",this.handleScrollAndResize),window.removeEventListener("resize",this.handleScrollAndResize)}disable(){this.resetRulers(),this.$tailor.style.display="none",this.$highlighted=null,this.selected=!1,this.$tailor.classList.remove("__tailor--measuring"),this.$to&&(this.$to.classList.remove("__tailor-to"),this.$to=null)}resetRulers(){let{$xRuler:l,$xRuler2:t,$yRuler:e,$yRuler2:i}=this;l.innerHTML="",t.innerHTML="",e.innerHTML="",i.innerHTML=""}highlightElement(l){let t=getComputedStyle(l),e=l.getBoundingClientRect(),{$tailor:i,$margin:d,$padding:a}=this,o={top:parseFloat(t.marginTop),bottom:parseFloat(t.marginBottom),left:parseFloat(t.marginLeft),right:parseFloat(t.marginRight),inline:parseFloat(t.marginLeft)+parseFloat(t.marginRight),block:parseFloat(t.marginTop)+parseFloat(t.marginBottom)},m={top:parseFloat(t.paddingTop),bottom:parseFloat(t.paddingBottom),left:parseFloat(t.paddingLeft),right:parseFloat(t.paddingRight),inline:parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),block:parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)};f(i,e.x,e.y,e.width,e.height),i.style.paddingLeft=t.paddingLeft,i.style.paddingRight=t.paddingRight,i.style.paddingTop=t.paddingTop,i.style.paddingBottom=t.paddingBottom,f(d,e.x-o.left,e.y-o.top,e.width+o.inline,e.height+o.block),d.style.borderWidth=`${o.top}px ${o.right}px ${o.bottom}px ${o.left}px`;let u="",c="";["top","right","bottom","left"].forEach(p=>{o[p]&&(u+=`<div class="__tailor-margin-label __tailor-margin-label--${p}">
          ${+o[p].toFixed(1)}
        </div>`),m[p]&&(c+=`<div class="__tailor-padding-label __tailor-padding-label--${p}">
          ${+m[p].toFixed(1)}
        </div>`)}),d.innerHTML=u,a.innerHTML=c}measureDistance(l,t){let e=l.getBoundingClientRect(),i=t.getBoundingClientRect(),{$xRuler:d,$xRuler2:a,$yRuler:o,$yRuler2:m,$xRulerHelper:u,$xRulerHelper2:c,$yRulerHelper:M,$yRulerHelper2:p}=this;this.resetRulers(),this.$to&&this.$to.classList.remove("__tailor-to");let r={horizontal1:[0,0,0,0],horizontal2:[0,0,0,0],vertical1:[0,0,0,0],vertical2:[0,0,0,0],hHelper1:[0,0,0,0],hHelper2:[0,0,0,0],vHelper1:[0,0,0,0],vHelper2:[0,0,0,0]};this.$to=t,t.classList.add("__tailor-to");let H=e.bottom<=i.top,_=e.top>=i.bottom,x=!H&&!_,R=e.right<=i.left,y=e.left>=i.right,T=!R&&!y,s={x:e.left+e.width*.5,y:e.top+e.height*.5};if(T){let g=Math.max(e.left,i.left),L=Math.min(e.right,i.right);s.x=g+(L-g)/2}if(x){let g=Math.max(e.top,i.top),L=Math.min(e.bottom,i.bottom);s.y=g+(L-g)/2}H?r.vertical1=[s.x,e.bottom,i.top,0]:_?r.vertical1=[s.x,e.top,i.bottom,1]:(r.vertical1=[s.x,e.bottom,i.bottom,1],r.vertical2=[s.x,e.top,i.top,0]),R?r.horizontal1=[e.right,s.y,i.left,0]:y?r.horizontal1=[e.left,s.y,i.right,1]:(r.horizontal1=[e.right,s.y,i.right,1],r.horizontal2=[e.left,s.y,i.left,0]),(R||y)&&(r.hHelper1=[s.x,r.vertical1[2],i.left,r.vertical1[3]],x&&(r.hHelper2=[s.x,r.vertical2[2],i.left,0])),(H||_)&&(r.vHelper1=[r.horizontal1[2],s.y,i.top,r.horizontal1[3]],T&&(r.vHelper2=[r.horizontal2[2],s.y,i.top,0])),v(o,...r.vertical1,!0),v(m,...r.vertical2,!0),$(d,...r.horizontal1,!0),$(a,...r.horizontal2,!0),$(u,...r.hHelper1),$(c,...r.hHelper2),v(M,...r.vHelper1),v(p,...r.vHelper2)}},E=b;new E;})();
//# sourceMappingURL=docs.js.map
