"use strict";(()=>{function k(r,e={},t=[]){let i=document.createElement(r);Array.isArray(t)||(t=[t]),t.forEach(l=>{typeof l=="string"?i.append(l):i.appendChild(l)});for(let l in e)i.setAttribute(l,e[l]);return i}var o=(r={},e=[])=>k("div",r,e),D=(r={},e=[])=>k("span",r,e);function f(r){let e=r.getBoundingClientRect();return e.x+=window.scrollX,e.y+=window.scrollY,e}function F(r){if(r instanceof SVGElement)return f(r);let e=0,t=0,i=r,l=r.offsetWidth,s=r.offsetHeight;do e+=i.offsetTop||0,t+=i.offsetLeft||0,i=i.offsetParent;while(i);return{x:t,y:e,width:l,height:s}}function w(r,e=1){return+r.toFixed(e)}function c(r,e,t,i,l){r.style.left=`${e}px`,r.style.top=`${t}px`,r.style.width=`${i}px`,r.style.height=`${l}px`}function H(r,e,t,i,l=0){if(e>i){let a=i;i=e,e=a}let s=w(i-e);r.firstChild&&(r.firstChild.textContent=s>0?s.toString():""),c(r,e,t-l,s,0)}function E(r,e,t,i,l=0){if(t>i){let a=i;i=t,t=a}let s=w(i-t);r.firstChild&&(r.firstChild.textContent=s>0?s.toString():""),c(r,e-l,t,0,s)}var T=class{constructor(e="Alt"){this.$current=null;this.$measureTo=null;this.selected=!1;this.handleContextMenu=e=>{e.preventDefault()};this.handleKeyDown=e=>{e.repeat||e.key===this.toggleKey&&this.enable()};this.handleKeyUp=e=>{e.key===this.toggleKey&&this.disable()};this.handleWindowBlur=()=>{this.disable()};this.handleMouseMove=e=>{let t=e.target;this.selected?this.$measureTo!==t&&this.$current&&this.$current!==t&&(this.measureDistance(this.$current,t),this.updatePanel(t)):this.$current!==e.target&&(this.$current=t,this.highlightElement(this.$current),this.updatePanel(this.$current))};this.handleClick=e=>{e.preventDefault(),e.stopPropagation()};this.handleMouseDown=e=>{e.preventDefault(),e.stopPropagation(),this.selected=!0,this.$tailor.classList.add("__tailor--measuring"),this.$current=e.target,this.highlightElement(this.$current),this.$toMask.setAttribute("style","")};if(this.toggleKey=e,this.$mask=o({class:"__tailor-mask"}),this.$toMask=o({class:"__tailor-to-mask"}),this.$margin=o({class:"__tailor-margin"}),this.$padding=o({class:"__tailor-padding"}),this.$highlight=o({class:"__tailor-highlight"},[this.$margin,this.$padding]),this.$xRuler=o({class:"__tailor-ruler __tailor-ruler--x"},o()),this.$xRuler2=o({class:"__tailor-ruler __tailor-ruler--x"},o()),this.$yRuler=o({class:"__tailor-ruler __tailor-ruler--y"},o()),this.$yRuler2=o({class:"__tailor-ruler __tailor-ruler--y"},o()),this.$xRulerHelper=o({class:"__tailor-ruler-helper __tailor-ruler-helper--x"}),this.$xRulerHelper2=o({class:"__tailor-ruler-helper __tailor-ruler-helper--x"}),this.$yRulerHelper=o({class:"__tailor-ruler-helper __tailor-ruler-helper--y"}),this.$yRulerHelper2=o({class:"__tailor-ruler-helper __tailor-ruler-helper--y"}),this.$panel=o({class:"__tailor-panel"}),this.$rulers=[this.$xRuler,this.$xRuler2,this.$yRuler,this.$yRuler2],this.$helpers=[this.$xRulerHelper,this.$xRulerHelper2,this.$yRulerHelper,this.$yRulerHelper2],this.$tailor=o({class:"__tailor"},[this.$mask,this.$highlight,this.$toMask,...this.$rulers,...this.$helpers,this.$panel]),this.$elementsToReset=[this.$mask,this.$highlight,this.$margin,this.$toMask],window.__tailor_instance)return window.__tailor_instance;document.body.append(this.$tailor),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),window.addEventListener("blur",this.handleWindowBlur),window.__tailor_instance=this,console.log("%c T ","background-color: #0b99ff; color: white; line-height: 17px; display: inline-block;","Tailor initialized")}updateToggleKey(e){this.toggleKey=e}enable(){this.$panel.replaceChildren(D({},["Tailor"])," ready"),this.$tailor.style.display="block",this.$tailor.style.width=document.body.scrollWidth+"px",this.$tailor.style.height=document.body.scrollHeight+"px",window.addEventListener("mousedown",this.handleMouseDown,!0),window.addEventListener("click",this.handleClick,!0),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("contextmenu",this.handleContextMenu)}disable(){window.removeEventListener("mousedown",this.handleMouseDown,!0),window.removeEventListener("click",this.handleClick,!0),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("contextmenu",this.handleContextMenu),this.$elementsToReset.forEach(e=>{e.setAttribute("style","")}),this.$margin.textContent="",this.$padding.textContent="",this.resetRulers(),this.$tailor.style.display="none",this.$current=null,this.selected=!1,this.$tailor.classList.remove("__tailor--measuring"),this.$measureTo=null}resetRulers(){this.$rulers.forEach(e=>{e.setAttribute("style",""),e.firstChild.textContent=""}),this.$helpers.forEach(e=>{e.setAttribute("style","")})}destroy(){this.disable(),this.$tailor.remove(),delete window.__tailor_instance,window.removeEventListener("keyup",this.handleKeyDown),window.removeEventListener("keydown",this.handleKeyUp),window.removeEventListener("blur",this.handleWindowBlur)}highlightElement(e){this.resetRulers();let t=getComputedStyle(e),i=f(e),l=this.selected?i:F(e),{$mask:s,$highlight:a,$margin:u,$padding:m}=this,h={top:parseFloat(t.marginTop),bottom:parseFloat(t.marginBottom),left:parseFloat(t.marginLeft),right:parseFloat(t.marginRight),inline:parseFloat(t.marginLeft)+parseFloat(t.marginRight),block:parseFloat(t.marginTop)+parseFloat(t.marginBottom)},y={top:parseFloat(t.paddingTop),bottom:parseFloat(t.paddingBottom),left:parseFloat(t.paddingLeft),right:parseFloat(t.paddingRight),inline:parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),block:parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)};c(a,l.x,l.y,l.width,l.height),c(s,i.x,i.y,i.width,i.height),a.style.paddingLeft=t.paddingLeft,a.style.paddingRight=t.paddingRight,a.style.paddingTop=t.paddingTop,a.style.paddingBottom=t.paddingBottom,a.style.transform=this.selected?"":t.transform,c(u,-h.left,-h.top,l.width+h.inline,l.height+h.block);let $=[],v=[];["top","right","bottom","left"].forEach(p=>{h[p]&&$.push(o({class:`__tailor-margin-label __tailor-margin-label--${p}`},[w(h[p]).toString()])),y[p]&&v.push(o({class:`__tailor-padding-label __tailor-padding-label--${p}`},[w(y[p]).toString()]))}),u.replaceChildren(...$),m.replaceChildren(...v)}measureDistance(e,t){let i=f(e),l=f(t),{$xRuler:s,$xRuler2:a,$yRuler:u,$yRuler2:m,$xRulerHelper:h,$xRulerHelper2:y,$yRulerHelper:$,$yRulerHelper2:v}=this;t&&c(this.$toMask,l.left,l.top,l.width,l.height);let n={horizontal1:[0,0,0,0],horizontal2:[0,0,0,0],vertical1:[0,0,0,0],vertical2:[0,0,0,0],hHelper1:[0,0,0,0],hHelper2:[0,0,0,0],vHelper1:[0,0,0,0],vHelper2:[0,0,0,0]};this.$measureTo=t;let p=i.bottom<=l.top,_=i.top>=l.bottom,x=!p&&!_,M=i.right<=l.left,b=i.left>=l.right,R=!M&&!b,d={x:i.left+i.width*.5,y:i.top+i.height*.5};if(R){let g=Math.max(i.left,l.left),L=Math.min(i.right,l.right);d.x=g+(L-g)/2}if(x){let g=Math.max(i.top,l.top),L=Math.min(i.bottom,l.bottom);d.y=g+(L-g)/2}p?n.vertical1=[d.x,i.bottom,l.top,0]:_?n.vertical1=[d.x,i.top,l.bottom,1]:(n.vertical1=[d.x,i.bottom,l.bottom,1],n.vertical2=[d.x,i.top,l.top,0]),M?n.horizontal1=[i.right,d.y,l.left,0]:b?n.horizontal1=[i.left,d.y,l.right,1]:(n.horizontal1=[i.right,d.y,l.right,1],n.horizontal2=[i.left,d.y,l.left,0]),(M||b)&&(n.hHelper1=[d.x,n.vertical1[2],l.left,n.vertical1[3]],x&&(n.hHelper2=[d.x,n.vertical2[2],l.left,0])),(p||_)&&(n.vHelper1=[n.horizontal1[2],d.y,l.top,n.horizontal1[3]],R&&(n.vHelper2=[n.horizontal2[2],d.y,l.top,0])),E(u,...n.vertical1),E(m,...n.vertical2),H(s,...n.horizontal1),H(a,...n.horizontal2),H(h,...n.hHelper1),H(y,...n.hHelper2),E($,...n.vHelper1),E(v,...n.vHelper2)}updatePanel(e){let t=getComputedStyle(e),i=e.id?`#${e.id}`:"",l=e.getAttribute("class");l?l=`.${e.getAttribute("class")?.split(" ").join(".")}`:l="";let s=t.fontFamily,a=t.fontFamily.split(", ");for(let h in a)if(document.fonts.check(`16px ${a[h]}`)){s=a[h].replace(/"/g,"");break}let u=t.height.replace("px",""),m=t.width.replace("px","");if(u==="auto"||m==="auto")if(e instanceof SVGElement){let h=f(e);u=h.height.toString(),m=h.width.toString()}else u=e.offsetHeight.toString(),m=e.offsetWidth.toString();this.$panel.replaceChildren(D({},[e.tagName.toLowerCase()]),`${i}${l}`,o({},[`${m}x${u}px`]),o({},[s]),o({},[`${t.fontSize} ${t.lineHeight}`]),o({},[`${t.fontWeight} ${t.fontStyle}`]))}},C=T;new C;})();
//# sourceMappingURL=docs.js.map
